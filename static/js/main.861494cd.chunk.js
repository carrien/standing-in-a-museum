(this.webpackJsonpsitting=this.webpackJsonpsitting||[]).push([[0],[,,,,,function(e,t,r){e.exports=r(12)},,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){"use strict";r.r(t);var a,n=r(0),o=r.n(n),c=r(4),i=r.n(c),l=(r(10),r(1)),s=r(2);!function(e){e[e.study=0]="study",e[e.court=1]="court",e[e.niche=2]="niche",e[e.bridge=3]="bridge"}(a||(a={}));r(11);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}new(window.AudioContext||window.webkitAudioContext);var d,f,y=[["Objects Study Room",a.study],["Paige Court",a.court],["Japanese Niche",a.niche],["Bridge",a.bridge]],b=window.location.hash.slice(1),p={iteration:0,gallery:Object.keys(a).includes(b)?a[b]:a.niche,offset:0,modal:"Welcome"},g=function(e,t){switch(t.type){case"requestGallery":return m({},e,{gallery:t.gallery});case"requestIteration":case"rollOverToIteration":return m({},e,{iteration:t.iteration||0});case"playbackStatus":return m({},e,{offset:t.offset});case"dismissModal":return m({},e,{modal:void 0});default:return e}},v=(d=10,f=250,function(e,t){for(var r=e.volume,a=(t-r)/d,n=function(t){setTimeout((function(){return e.volume=Math.min(1,Math.max(0,r+(t+1)*a))}),t*f/d)},o=0;o<d;o++)n(o)}),h=function(){var e,t=Object(n.useReducer)(g,p),r=Object(l.a)(t,2),c=r[0],i=r[1],u=(e={},Object(s.a)(e,a.study,Object(n.useRef)(null)),Object(s.a)(e,a.court,Object(n.useRef)(null)),Object(s.a)(e,a.niche,Object(n.useRef)(null)),Object(s.a)(e,a.bridge,Object(n.useRef)(null)),e);Object(n.useEffect)((function(){var e=setInterval((function(){var e=u[c.gallery].current.currentTime;i({type:"playbackStatus",offset:e});var t=c.iteration,r=Math.floor(e/m);t!==r&&i({type:"rollOverToIteration",iteration:r})}),50);return function(){return clearInterval(e)}}),[c.gallery,c.iteration]);var m=64.32,d=c.offset%m/m;return o.a.createElement("div",{className:"App"},c.modal&&o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{className:"button start-button",onClick:function(){u[c.gallery].current.play(),i({type:"dismissModal"})}},"Begin"))),o.a.createElement("div",{className:"wrapper"},o.a.createElement("header",{className:"header"}," I am standing in a museum... ",!1,y.map((function(e){var t=Object(l.a)(e,2),r=(t[0],t[1]);return o.a.createElement("audio",{key:r,ref:u[r],loop:!0,preload:"auto",controls:!0,src:"".concat(a[r],".mp3"),className:"begin"})}))),o.a.createElement("div",{className:"menu"}),o.a.createElement("div",{className:"gutter"}),[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map((function(e,t){var r="icon-".concat(a[c.gallery],"-").concat(String(t).padStart(2,"0"),".svg"),n="iteration".concat(Math.floor(t/4)).concat(t%4),s="iteration \n                ".concat(c.iteration===e?"playing":"","\n                gallery-").concat(c.gallery,"\n              ");return o.a.createElement("span",{key:t,className:s,style:{gridArea:n}},e===c.iteration&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{key:"0",style:{position:"absolute",top:0,left:0,width:d<.25?"".concat(4*(d-0)*100,"%"):"100%",borderTop:"1vmin solid black"}}),o.a.createElement("div",{key:"1",style:{position:"absolute",right:0,top:0,height:d<.5?"".concat(4*(d-.25)*100,"%"):"100%",borderRight:"1vmin solid black"}}),o.a.createElement("div",{key:"2",style:{position:"absolute",bottom:0,right:0,width:d<.75?"".concat(4*(d-.5)*100,"%"):"100%",borderBottom:"1vmin solid black"}}),o.a.createElement("div",{key:"3",style:{position:"absolute",left:0,bottom:0,height:d<1?"".concat(4*(d-.75)*100,"%"):"100%",borderLeft:"1vmin solid black"}})),o.a.createElement("img",{src:r,onClick:function(){y.filter((function(e){var t=Object(l.a)(e,2);t[0];return t[1]!==c.gallery})).forEach((function(e){var t=Object(l.a)(e,2),r=(t[0],t[1]);return u[r].current.pause()})),u[c.gallery].current.play(),u[c.gallery].current.currentTime=(u[c.gallery].current.currentTime-0)%m+t*m,i({type:"requestIteration",iteration:e})}}))})),o.a.createElement("footer",{className:"footer"},o.a.createElement("div",{className:"gallery-selection"},y.map((function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return o.a.createElement("button",{key:n,onClick:function(){i({type:"requestGallery",gallery:n});var e=u[c.gallery].current.currentTime;y.forEach((function(e){var t=Object(l.a)(e,2),r=(t[0],t[1]);r!==n&&v(u[r].current,0)})),u[n].current.currentTime=e,u[n].current.play(),v(u[n].current,1)},className:"\n                ".concat(c.gallery===n?"selected":"default","\n                ").concat(a[c.gallery],"\n              ")},r)}))),o.a.createElement("div",null,"Chazen et cetera. 2020."))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[5,1,2]]]);
//# sourceMappingURL=main.861494cd.chunk.js.map