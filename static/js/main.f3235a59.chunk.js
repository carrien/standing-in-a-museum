(this.webpackJsonpsitting=this.webpackJsonpsitting||[]).push([[0],[,,,,,function(e,t,a){e.exports=a(12)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r,n=a(0),o=a.n(n),c=a(4),i=a.n(c),l=(a(10),a(1)),s=a(2);!function(e){e[e.study=0]="study",e[e.court=1]="court",e[e.niche=2]="niche",e[e.bridge=3]="bridge"}(r||(r={}));a(11);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m=new(window.AudioContext||window.webkitAudioContext),f=[["Objects Study Room",r.study],["Paige Court",r.court],["Japanese Niche",r.niche],["Bridge",r.bridge]],y=window.location.hash.slice(1),g={iteration:0,gallery:Object.keys(r).includes(y)?r[y]:r.niche,offset:0,modal:"Welcome"},p=function(e,t){switch("playbackStatus"!==t.type&&console.log(t),t.type){case"requestGallery":return d({},e,{gallery:t.gallery});case"requestIteration":case"rollOverToIteration":return d({},e,{iteration:t.iteration||0});case"playbackStatus":return d({},e,{offset:t.offset});case"dismissModal":return d({},e,{modal:void 0});default:return e}},b=function(e,t,a){0==t?(a.pause(),E("Audio pause")):(a.play(),E("Audio play"))},v=function(e){var t=e.fractionComplete;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{key:"0",style:{position:"absolute",top:0,left:0,width:t<.25?"".concat(4*(t-0)*100,"%"):"100%",borderTop:"1vmin solid black"}}),o.a.createElement("div",{key:"1",style:{position:"absolute",right:0,top:0,height:t<.5?"".concat(4*(t-.25)*100,"%"):"100%",borderRight:"1vmin solid black"}}),o.a.createElement("div",{key:"2",style:{position:"absolute",bottom:0,right:0,width:t<.75?"".concat(4*(t-.5)*100,"%"):"100%",borderBottom:"1vmin solid black"}}),o.a.createElement("div",{key:"3",style:{position:"absolute",left:0,bottom:0,height:t<1?"".concat(4*(t-.75)*100,"%"):"100%",borderLeft:"1vmin solid black"}}))},h=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=t[0],r=(t[1],Object(n.useState)()),o=Object(l.a)(r,2),c=o[0],i=o[1];return[Object(n.useCallback)((function(e){i(e)}),[]),a,c]},O=function(e){return e[2]},E=function(e){var t=document.getElementById("log");t.innerText=t.innerText+"\n"+e};window.onerror=function(e,t,a,r,n){return E("Error occurred: "+n.message),!1},window.addEventListener("error",(function(e){return E("Error occurred: "+e.error.message),!1})),E("LOG"),console.log("ACState",m.state);var w=function(){var e,t=Object(n.useReducer)(p,g),a=Object(l.a)(t,2),c=a[0],i=a[1],u=(e={},Object(s.a)(e,r.study,h()),Object(s.a)(e,r.court,h()),Object(s.a)(e,r.niche,h()),Object(s.a)(e,r.bridge,h()),e);Object(n.useEffect)((function(){E("redo effect noAe ".concat(u[c.gallery][2])),u[c.gallery][2]&&E("t = ".concat(u[c.gallery][2].src));var e=setInterval((function(){var e=O(u[c.gallery]);if(e){var t=e.currentTime;i({type:"playbackStatus",offset:t});var a=c.iteration,r=Math.floor(t/d);a!==r&&(console.log("Rollover iteration"),i({type:"rollOverToIteration",iteration:r}))}else console.log("Waiting for curfnet audio.")}),50);return function(){return clearInterval(e)}}),[c.gallery,c.iteration,u[c.gallery][2]]);var d=64.32,y=c.offset%d/d;return o.a.createElement("div",{className:"App"},c.modal&&o.a.createElement("div",{className:"modal"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{className:"button start-button",onClick:function(){E("AC status: ".concat(m.state));var e=O(u[c.gallery]);e&&(f.forEach((function(e){var t=Object(l.a)(e,2),a=(t[0],t[1]);b(0,1,u[a][2]),b(0,0,u[a][2])})),e.play(),E("played then unused AC status: ".concat(m.state)),i({type:"dismissModal"}))}},"Begin"))),o.a.createElement("div",{className:"wrapper"},o.a.createElement("header",{className:"header"}," I am standing in a museum... ",!1,f.map((function(e){var t=Object(l.a)(e,2),a=(t[0],t[1]);return o.a.createElement("audio",{key:a,ref:u[a][0],loop:!0,preload:"auto",controls:!0,src:"".concat(r[a],".mp3"),className:"begin"})}))),o.a.createElement("div",{className:"menu"}),o.a.createElement("div",{className:"gutter"}),[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15].map((function(e,t){var a="icon-".concat(r[c.gallery],"-").concat(String(t).padStart(2,"0"),".svg"),n="iteration".concat(Math.floor(t/4)).concat(t%4),l="iteration \n                ".concat(c.iteration===e?"playing":"","\n                gallery-").concat(c.gallery,"\n              ");return o.a.createElement("span",{key:t,className:l,style:{gridArea:n}},e===c.iteration&&o.a.createElement(v,{fractionComplete:y}),o.a.createElement("img",{src:a,onClick:function(){var a=O(u[c.gallery]);if(a){a.play();var r=a.currentTime-0;a.currentTime=r%d+t*d,i({type:"requestIteration",iteration:e})}}}))})),o.a.createElement("footer",{className:"footer"},o.a.createElement("div",{className:"gallery-selection"},f.map((function(e){var t=Object(l.a)(e,2),a=t[0],n=t[1];return o.a.createElement("button",{key:n,onClick:function(){var e=O(u[c.gallery]);if(e){var t=e.currentTime;E("Requeste gal at "+t);var a=O(u[n]);a.play(),a.currentTime=t,f.forEach((function(e){var t=Object(l.a)(e,2),a=(t[0],t[1]);a!==n&&b(0,0,u[a][2])})),b(0,1,u[n][2]),setTimeout((function(){i({type:"requestGallery",gallery:n})}))}},className:"\n                ".concat(c.gallery===n?"selected":"default","\n                ").concat(r[c.gallery],"\n              ")},a)}))),o.a.createElement("div",null,"Chazen et cetera. 2020."))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[5,1,2]]]);
//# sourceMappingURL=main.f3235a59.chunk.js.map